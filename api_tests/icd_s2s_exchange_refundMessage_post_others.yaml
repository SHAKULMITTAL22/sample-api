# ********RoostGPT********

# Test generated by RoostGPT for test api-swagger using AI Type Azure Open AI and AI Model Inference
# 
# Test generated for /icd/s2s/exchange/refundMessage_post for http method type POST in artillery framework
# RoostTestHash=eeed01c3dd
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.test3_API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "icd_s2s_exchange_refundMessage_post_others.csv"
    skipHeader: true
    delimiter: "^|^"
  phases:
    - duration: 1
      arrivalRate: 1
scenarios:
  - name: "Non-Success API Responses"
    flow:
      - log: "Testing invalid URL"
      - post:
          url: "/invalid/url"
          headers:
            Authorization: "{{ $processEnvironment.test3_AUTH_TOKEN }}"
          expect:
            - statusCode: 404
      - think: 1
      - log: "Testing invalid payload"
      - post:
          url: "/icd/s2s/exchange/refundMessage"
          headers:
            Authorization: "{{ $processEnvironment.test3_AUTH_TOKEN }}"
          json:
            messageHeader:
              headerVersion: "1.0"
              timestamp: "2023-10-05T12:00:00Z"
              sourceContext:
                sourceId: "sourceId"
                applicationId: "applicationId"
                transactionId: "transactionId"
              messageContext:
                messageContentType: "application/json"
                messageContentEncoding: "UTF-8"
                payloadHashValue: "hashValue"
                hashingAlgorithm: "SHA-256"
              multiPartMessageContextTypes:
                - messageCorrelationContext: "context"
                  messageCorrelationId: "correlationId"
                  messageSequenceNumber: "1"
                  messageSequenceSize: "1"
            augmentationPoint:
              - augmentationKey: "key"
                augmentationValue: "value"
            payload:
              refundTransactions:
                remark: "Remark"
                documentNumber: "12345"
                refundedCoupons:
                  - "coupon1"
                issuanceDate: "2023-10-05"
                refundIndicator: "indicator"
                refundUID: "uid"
                relatedRefundUID: "relatedUid"
                oadCode: "oadCode"
              refundingAgentDetails:
                cityPointOfSale: "NYC"
                areaPointOfSale: "US"
                countryPointOfSale: "USA"
                issuerSystem: "system"
              monetaryInformation:
                refundedFormOfPayment:
                  - fopType: "CC"
                    amount:
                      amount: 100.0
                      currency: "USD"
                    refundedCardDetails:
                      maskedCardNumber: "1234"
                      vendorCode: "vendor"
                      binNumber: "123456"
                      lastFour: "1234"
                    refundedFare:
                      amount: 100.0
                      currency: "USD"
                    refundFee_CancellationPenality:
                      amount: 10.0
                      currency: "USD"
                    refundFee_TaxOnCancellationPenality:
                      amount: 5.0
                      currency: "USD"
                      taxISOCode: "US"
                      taxCityCode: "NYC"
                    refundedFee:
                      amount: 5.0
                      currency: "USD"
                    refundedTax:
                      amount: 5.0
                      currency: "USD"
                      taxISOCode: "US"
                      taxCityCode: "NYC"
          expect:
            - statusCode: 400
            - hasProperty: "error"
            - hasProperty: "message"
      - think: 1
      - log: "Testing missing required fields"
      - post:
          url: "/icd/s2s/exchange/refundMessage"
          headers:
            Authorization: "{{ $processEnvironment.test3_AUTH_TOKEN }}"
          json:
            messageHeader:
              headerVersion: "1.0"
              timestamp: "2023-10-05T12:00:00Z"
              sourceContext:
                sourceId: "sourceId"
                applicationId: "applicationId"
                transactionId: "transactionId"
              messageContext:
                messageContentType: "application/json"
                messageContentEncoding: "UTF-8"
                payloadHashValue: "hashValue"
                hashingAlgorithm: "SHA-256"
              multiPartMessageContextTypes:
                - messageCorrelationContext: "context"
                  messageCorrelationId: "correlationId"
                  messageSequenceNumber: "1"
                  messageSequenceSize: "1"
            augmentationPoint:
              - augmentationKey: "key"
                augmentationValue: "value"
            payload:
              refundTransactions:
                remark: "Remark"
                refundedCoupons:
                  - "coupon1"
                issuanceDate: "2023-10-05"
                refundIndicator: "indicator"
                refundUID: "uid"
                relatedRefundUID: "relatedUid"
                oadCode: "oadCode"
              refundingAgentDetails:
                cityPointOfSale: "NYC"
                areaPointOfSale: "US"
                countryPointOfSale: "USA"
                issuerSystem: "system"
              monetaryInformation:
                refundedFormOfPayment:
                  - fopType: "CC"
                    amount:
                      amount: 100.0
                      currency: "USD"
                    refundedCardDetails:
                      maskedCardNumber: "1234"
                      vendorCode: "vendor"
                      binNumber: "123456"
                      lastFour: "1234"
                    refundedFare:
                      amount: 100.0
                      currency: "USD"
                    refundFee_CancellationPenality:
                      amount: 10.0
                      currency: "USD"
                    refundFee_TaxOnCancellationPenality:
                      amount: 5.0
                      currency: "USD"
                      taxISOCode: "US"
                      taxCityCode: "NYC"
                    refundedFee:
                      amount: 5.0
                      currency: "USD"
                    refundedTax:
                      amount: 5.0
                      currency: "USD"
                      taxISOCode: "US"
                      taxCityCode: "NYC"
          expect:
            - statusCode: 400
            - hasProperty: "error"
            - hasProperty: "message"
      - think: 1
      - log: "Testing invalid authentication"
      - post:
          url: "/icd/s2s/exchange/refundMessage"
          headers:
            Authorization: "invalid_token"
          json:
            messageHeader:
              headerVersion: "1.0"
              timestamp: "2023-10-05T12:00:00Z"
              sourceContext:
                sourceId: "sourceId"
                applicationId: "applicationId"
                transactionId: "transactionId"
              messageContext:
                messageContentType: "application/json"
                messageContentEncoding: "UTF-8"
                payloadHashValue: "hashValue"
                hashingAlgorithm: "SHA-256"
              multiPartMessageContextTypes:
                - messageCorrelationContext: "context"
                  messageCorrelationId: "correlationId"
                  messageSequenceNumber: "1"
                  messageSequenceSize: "1"
            augmentationPoint:
              - augmentationKey: "key"
                augmentationValue: "value"
            payload:
              refundTransactions:
                remark: "Remark"
                documentNumber: "12345"
                refundedCoupons:
                  - "coupon1"
                issuanceDate: "2023-10-05"
                refundIndicator: "indicator"
                refundUID: "uid"
                relatedRefundUID: "relatedUid"
                oadCode: "oadCode"
              refundingAgentDetails:
                cityPointOfSale: "NYC"
                areaPointOfSale: "US"
                countryPointOfSale: "USA"
                issuerSystem: "system"
              monetaryInformation:
                refundedFormOfPayment:
                  - fopType: "CC"
                    amount:
                      amount: 100.0
                      currency: "USD"
                    refundedCardDetails:
                      maskedCardNumber: "1234"
                      vendorCode: "vendor"
                      binNumber: "123456"
                      lastFour: "1234"
                    refundedFare:
                      amount: 100.0
                      currency: "USD"
                    refundFee_CancellationPenality:
                      amount: 10.0
                      currency: "USD"
                    refundFee_TaxOnCancellationPenality:
                      amount: 5.0
                      currency: "USD"
                      taxISOCode: "US"
                      taxCityCode: "NYC"
                    refundedFee:
                      amount: 5.0
                      currency: "USD"
                    refundedTax:
                      amount: 5.0
                      currency: "USD"
                      taxISOCode: "US"
                      taxCityCode: "NYC"
          expect:
            - statusCode: 401
            - hasProperty: "error"
            - hasProperty: "message"
      - think: 1
