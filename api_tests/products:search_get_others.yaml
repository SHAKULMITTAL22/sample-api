# ********RoostGPT********

# Test generated by RoostGPT for test api-swagger using AI Type Azure Open AI and AI Model Inference
# 
# Test generated for /products:search_get for http method type GET in artillery framework
# RoostTestHash=824ef8445c
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.test5_API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "products:search_get_others.csv"
    skipHeader: true
    delimiter: "^|^"
scenarios:
  - name: "Test non-successful API responses for /products:search"
    flow:
      - log: "Testing invalid URL"
      - get:
          url: "/invalid_endpoint"
          headers:
            api_key: "{{ $processEnvironment.test5_AUTH_TOKEN }}"
          expect:
            - statusCode: 404
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Not Found"
      - think: 1
      - log: "Testing missing required parameter brand_name"
      - get:
          url: "/products:search?product_name=Clorox Clinical Germicidal Cleaner + Bleach&upc=00048415000093&confidence_model=98"
          headers:
            api_key: "{{ $processEnvironment.test5_AUTH_TOKEN }}"
          expect:
            - statusCode: 400
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Missing required parameter: brand_name"
      - think: 1
      - log: "Testing missing required parameter product_name"
      - get:
          url: "/products:search?brand_name=Clorox&upc=00048415000093&confidence_model=98"
          headers:
            api_key: "{{ $processEnvironment.test5_AUTH_TOKEN }}"
          expect:
            - statusCode: 400
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Missing required parameter: product_name"
      - think: 1
      - log: "Testing missing required parameter upc"
      - get:
          url: "/products:search?brand_name=Clorox&product_name=Clorox Clinical Germicidal Cleaner + Bleach&confidence_model=98"
          headers:
            api_key: "{{ $processEnvironment.test5_AUTH_TOKEN }}"
          expect:
            - statusCode: 400
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Missing required parameter: upc"
      - think: 1
      - log: "Testing missing required parameter confidence_model"
      - get:
          url: "/products:search?brand_name=Clorox&product_name=Clorox Clinical Germicidal Cleaner + Bleach&upc=00048415000093"
          headers:
            api_key: "{{ $processEnvironment.test5_AUTH_TOKEN }}"
          expect:
            - statusCode: 400
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Missing required parameter: confidence_model"
      - think: 1
      - log: "Testing invalid value for confidence_model"
      - get:
          url: "/products:search?brand_name=Clorox&product_name=Clorox Clinical Germicidal Cleaner + Bleach&upc=00048415000093&confidence_model=99"
          headers:
            api_key: "{{ $processEnvironment.test5_AUTH_TOKEN }}"
          expect:
            - statusCode: 400
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Invalid value for confidence_model"
      - think: 1
      - log: "Testing missing authorization header"
      - get:
          url: "/products:search?brand_name=Clorox&product_name=Clorox Clinical Germicidal Cleaner + Bleach&upc=00048415000093&confidence_model=98"
          expect:
            - statusCode: 401
            - hasHeader: "Content-Type"
            - headerEquals:
                "Content-Type": "application/json"
            - hasProperty: "error"
            - equals:
                - "error": "Unauthorized"
